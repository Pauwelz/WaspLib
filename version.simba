



const

  WL_VERSION_YEAR: Integer = 2025;
  WL_VERSION_MONTH: Integer = 09;
  WL_VERSION_DAY: Integer = 24;

  WL_VERSION_COMMIT_HASH: String = '714ea3c';



  SIMBA_VERSION: String = {$MACRO SIMBACOMMIT};
  WASPLIB_VERSION: String := ToStr(WL_VERSION_YEAR) + '.' +
                             PadL(ToStr(WL_VERSION_MONTH), 2, '0') + '.' +
                             PadL(ToStr(WL_VERSION_DAY), 2, '0') + '-' +
                             WL_VERSION_COMMIT_HASH;


  SCRIPT_SIMBA_VERSION: String := {$IFDEF SCRIPT_SIMBA_VERSION}
                                  {$MACRO SCRIPT_SIMBA_VERSION}
                                  {$ELSE}
                                  GetEnvVar('SCRIPT_SIMBA_VERSION')
                                  {$ENDIF};

  SCRIPT_WASPLIB_VERSION: String := {$IFDEF SCRIPT_WASPLIB_VERSION}
                                    {$MACRO SCRIPT_WASPLIB_VERSION}
                                    {$ELSE}
                                    GetEnvVar('SCRIPT_WASPLIB_VERSION')
                                    {$ENDIF};

begin
  if (SCRIPT_SIMBA_VERSION <> '') and not SCRIPT_SIMBA_VERSION.Contains(SIMBA_VERSION) then
    raise GetTimeStamp() + ':[WaspLib]: This script was made for Simba version ' +
          SCRIPT_SIMBA_VERSION + ' and we are currently using ' + SIMBA_VERSION;

  if (SCRIPT_WASPLIB_VERSION <> '') and (SCRIPT_WASPLIB_VERSION <> WASPLIB_VERSION) then
    raise GetTimeStamp() + ':[WaspLib]: This script was made for WaspLib version ' +
          SCRIPT_WASPLIB_VERSION + ' and we are currently using ' + WASPLIB_VERSION;
end;
